import java.io.*;

/*
 * want to write the content to a text file,you must need to close the writeStream in the end!!!!!!!
 * otherwise,you cant get any content in that file!!!!
 */
public class Writer0 {
	private static String filename;
	public Writer0(String filename){
		this.filename = filename;
	}
	public static void main(String[] args) throws IOException{
		byte[] buffer = new byte[20];
		FileReader fr = new FileReader("content.txt");
		BufferedReader br = new BufferedReader(fr);
		PrintContent(br);
		br.close();
		fr.close();
		WriteContent0();
	}
	public static void PrintContent(BufferedReader br) throws IOException{
		int count=0;
		String aline="";
		do {
			aline = br.readLine();
			count++;
			if(aline != null && aline.length() != 0) {
				System.out.print("the "+count+" line:");
				System.out.println(aline);
			}
			else {
				System.out.println("the "+count+" line is empty");
			}
		}while(aline != null);
	}
	public static void WriteContent0() throws IOException{
		char[] buffer = new char[20];
		BufferedReader br = new BufferedReader(new FileReader("content.txt"));
		String aline = "",text="";
		File file = new File("writein.txt");
		FileWriter fw = new FileWriter(file);
		do {
			aline = br.readLine();
			//System.out.println(aline);
			if(aline != null) {
				text += aline;
				text += "\r\n";
			}
		}while(aline != null);
		br.close();
		fw.write(text);
		fw.close();
		System.out.println("Successfully write in "+file.getName());
		FileReader fr = new FileReader(file);
		BufferedReader br1 = new BufferedReader(fr);
		text = "";
		do {
			aline = br1.readLine();
			if(aline != null) {
				text += aline;
				text += "\r\n";
			}
		}while(aline != null);
		System.out.println("In the "+file.getName()+":\n"+text);
		/*
		int i = 0;
		fr.read(buffer);
		while(buffer[i]!='\0' && i<20) {
			if(buffer[i]=='\n' || buffer[i]=='\r') {
				System.out.println("buffer["+i+"]='\\n'or'\\r'");
				if(buffer[i]=='\n')
					System.out.println("buffer["+i+"]='\\n'");
				if(buffer[i]=='\r')
					System.out.println("buffer["+i+"]='\\r'");
			}
			else {
				System.out.println("buffer["+i+"]="+buffer[i]);
			}
			i++;
		}
		fw.write(buffer);
		fw.close();
		fr.close();
		*/
	}
	/*
	public void WriteContent(byte[] buffer) throws IOException{
		FileOutputStream fout = new FileOutputStream(this.filename);
		System.out.print("Please input:");
		System.in.read(buffer);
		fout.write(buffer);
		fout.close();
		System.out.println("Successfully write in "+this.filename);
	}*/
}
